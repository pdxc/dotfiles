## Command to list all installed packages
#  (zcat $(ls -tr /var/log/apt/history.log*.gz); cat /var/log/apt/history.log) 2>/dev/null |
#  egrep '^(Start-Date:|Commandline:)' |
#  grep -v aptdaemon |
#  egrep '^Commandline:'

# Installed packages:

# TODO: use current working directory instead of assuming that this git repo will be at ~/dotfiles
ln -s ~/dotfiles/.bashrc ~/.bashrc
ln -s ~/dotfiles/.zshrc ~/.zshrc
ln -s ~/dotfiles/.vimrc ~/.vimrc
ln -s ~/dotfiles/vim-snippets ~/.vim/snippets 

# chromium
apt install -y chromium-browser
# /chromium

# basic dev environment
apt-get install -y vim
apt install -y zsh
apt install -y tmux
apt-get install -y curl
apt-get install -y git
apt-get install -y fonts-powerline
# /basic dev environment

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

# zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions

# Install vim-plug
curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

# add undo dir for persistent vim undo
mkdir ~/.vim/undo

# Install tmux plugin manager
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

# node & npm
apt-get install -y nodejs
apt-get install -y npm
# /node & npm

# ag (the_silver_surfer)
apt-get install silversearcher-ag

# watchman
apt-get install -y libssl-dev autoconf automake libtool pkg-config
cd ~
git clone https://github.com/facebook/watchman.git
cd watchman
git checkout v4.9.0
./autogen.sh
./configure
make
sudo make install
# /watchman

# java jdk
apt-get install -y default-jdk
# /java jdk

# aws cli
apt-get install -y python-pip
# next add export PATH=~/.local/bin:$PATH to .zshrc
pip install awscli --upgrade --user
# /aws cli

# better clipboard
apt-get install -y xsel
# /better clipboard

# haskell
apt-get install g++ gcc libc6-dev libffi-dev libgmp-dev make xz-utils zlib1g-dev git gnupg

# stow (for dotfiles symlinking)
apt-get install stow

# /Installed packages

stow tmux
stow vim
stow zsh

# config
git config --global branch.autosetupmerge always
