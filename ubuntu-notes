## Command to list all installed packages
#  (zcat $(ls -tr /var/log/apt/history.log*.gz); cat /var/log/apt/history.log) 2>/dev/null |
#  egrep '^(Start-Date:|Commandline:)' |
#  grep -v aptdaemon |
#  egrep '^Commandline:'

# Installed packages:

# chromium
apt install -y chromium-browser
# /chromium

# basic dev environment
apt install -y zsh
apt install -y tmux
apt-get install -y curl
apt-get install -y git
apt-get install -y fonts-powerline
# /basic dev environment

# Compile vim to add features (done to fix issues with vim easymotion plugin) and to satisfy vim >= 8.1 for coc.nvim
# Must also add /usr/local/bin/vim to path in .zshrc
# Check that vim points to /usr/local/bin/vim using `which vim` command
cd ~
# Clones into ~/vim (would it be better to put this somewhere else?)
git clone https://github.com/vim/vim.git
cd vim
# I don't currently need additional feature besides +conceal (use `vim --version` to check options)
# Would be better to find a way to only compile with that one additional feature
apt-get install ncurses-dev
./configure --with-features=huge --enable-pythoninterp --enable-python3interp
make
# Requires sudo
make install

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

# zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions

# Install vim-plug
curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

# add undo dir for persistent vim undo
mkdir ~/.vim/undo
# add swp dir to avoid swp file clutter
mkdir -p ~/.vim/swp

# node & npm
apt-get install -y nodejs
apt-get install -y npm
# /node & npm

# ag (the_silver_surfer)
apt-get install silversearcher-ag

# watchman
apt-get install -y libssl-dev autoconf automake libtool pkg-config
cd ~
git clone https://github.com/facebook/watchman.git
cd watchman
git checkout v4.9.0
./autogen.sh
./configure
make
sudo make install
# /watchman

# java jdk
apt-get install -y default-jdk
# /java jdk

# aws cli
apt-get install -y python-pip
# next add export PATH=~/.local/bin:$PATH to .zshrc
pip install awscli --upgrade --user
# /aws cli

# better clipboard
apt-get install -y xsel
# /better clipboard

# haskell
apt-get install g++ gcc libc6-dev libffi-dev libgmp-dev make xz-utils zlib1g-dev git gnupg

# stow (for dotfiles symlinking)
apt-get install stow

# go
curl -O https://storage.googleapis.com/golang/go1.11.5.linux-amd64.tar.gz
tar -xvf go1.11.5.linux-amd64.tar.gz
rm go1.11.5.linux-amd64.tar.gz
mv go /usr/local/go
chown -R root:root /usr/local/go
# $GOPATH/src is where all projects should live
mkdir $GOPATH
mkdir -p $GOPATH $GOPATH/src $GOPATH/pkg $GOPATH/bin

# yarn (for coc.nvim)
curl -o- -L https://yarnpkg.com/install.sh | bash

# language servers for vim
npm install -g typescript typescript-language-server
go get -u github.com/sourcegraph/go-langserver

# fzf and pe
git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
go get github.com/edi9999/path-extractor/path-extractor

# /Installed packages

stow tmux
stow vim
stow zsh

# git config
git config --global branch.autosetupmerge always
